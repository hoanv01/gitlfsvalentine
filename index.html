<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Valentine's Day, My Love! ‚ù§Ô∏è</title>
  <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Comic+Neue:wght@700&display=swap" rel="stylesheet">
  <style>
    /* Global Styles */
    body {
      margin: 0;
      height: 100vh;
      background: #ffebf0;
      font-family: 'Comic Neue', cursive;
      overflow-x: hidden;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
      text-align: center;
    }
    /* Heart Styles */
    .heart {
      position: absolute;
      width: 20px;
      height: 20px;
      background: #ff3f3f;
      transform: rotate(-45deg);
      animation: float 3s infinite;
    }
    .heart::before,
    .heart::after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      background: #ff3f3f;
      border-radius: 50%;
    }
    .heart::before {
      top: -10px;
      left: 0;
    }
    .heart::after {
      left: 10px;
      top: 0;
    }
    @keyframes float {
      0%, 100% { transform: rotate(-45deg) translateY(0); }
      50% { transform: rotate(-45deg) translateY(-20px); }
    }
    /* Heading and Message */
    h1 {
      color: #ff1493;
      font-size: 4em;
      margin: 20px 0;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
      font-family: 'Luckiest Guy', cursive;
      letter-spacing: 3px;
    }
    .message {
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(255,20,147,0.1);
      margin: 30px 0;
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 1s forwards;
      font-size: 1.3em;
    }
    @keyframes fadeIn {
      to { opacity: 1; transform: translateY(0); }
    }
    /* Photos */
    .photos {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    .photos img {
      width: 100%;
      height: 400px;
      object-fit: contain;
      border-radius: 15px;
      transition: all 0.3s ease;
      border: 4px solid #ff1493;
      background: white;
      box-shadow: 0 4px 15px rgba(255,20,147,0.2);
    }
    .photos img:hover {
      transform: scale(1.05) rotate(2deg);
      box-shadow: 0 8px 25px rgba(255,20,147,0.3);
      z-index: 1;
    }
    /* Buttons and Secret Message */
    button {
      background: #ff1493;
      color: white;
      border: none;
      padding: 20px 40px;
      border-radius: 30px;
      font-size: 1.5em;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Luckiest Guy', cursive;
      letter-spacing: 2px;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
      margin: 20px 0;
    }
    button:hover {
      transform: scale(1.15) rotate(-3deg);
      background: #ff0066;
    }
    #secretMessage {
      display: none;
      margin-top: 20px;
      font-style: italic;
      color: #ff1493;
      font-size: 1.4em;
      font-family: 'Comic Neue', cursive;
      padding: 15px;
      border-radius: 10px;
      background: rgba(255,255,255,0.9);
    }
    /* Music Playlist Styles */
    #musicPlaylist {
      margin-top: 20px;
      padding: 15px;
      background: rgba(255,255,255,0.8);
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    #musicPlaylist h2 {
      margin-top: 0;
      font-size: 1.8em;
      color: #ff1493;
    }
    /* Flex container for the dropdown and checkbox */
    .music-controls {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;        /* spacing between dropdown and checkbox */
      margin-bottom: 10px; /* space below before the audio player */
    }
    /* Optionally style the dropdown */
    #playlistSelect {
      font-size: 1em;
      padding: 5px;
    }
    /* Game Styles */
    #gameContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      display: none;
    }
    #gameCanvas {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #fff;
    }
    #startScreen, #gameOverScreen {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 20, 147, 0.7);
      padding: 30px;
      border-radius: 15px;
      color: white;
      text-align: center;
      font-family: 'Comic Neue', cursive;
      font-size: 1.5em;
    }
    #gameOverScreen {
      display: none;
    }
    #startScreen button, #gameOverScreen button {
      background: #ff1493;
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 25px;
      font-size: 1.2em;
      cursor: pointer;
      font-family: 'Luckiest Guy', cursive;
      margin: 10px;
      transition: all 0.3s ease;
    }
    #startScreen button:hover, #gameOverScreen button:hover {
      background: #ff0066;
      transform: scale(1.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Happy Valentine's Day, Babe! ‚ù§Ô∏è</h1>
    <div class="message">
      <p>My dearest Nini,</p>
      <p>You make every moment magical. Thank you for being my sunshine, my rock, and my best friend. I love you more than words can say!</p>
      <p>Forever yours,<br>Bo</p>
    </div>
    <div class="photos">
      <img src="photo1.PNG" alt="Our Favorite Memory">
      <img src="photo2.PNG" alt="Adventures Together">
      <img src="photo3.PNG" alt="My Everything">
      <img src="photo4.PNG" alt="Our Favorite Memory">
      <img src="photo5.PNG" alt="Adventures Together">
      <img src="photo6.PNG" alt="My Everything">
    </div>

    <!-- Music Playlist Section -->
    <div id="musicPlaylist">
      <h2>Music Playlist</h2>
      <!-- Flex container for dropdown & checkbox -->
      <div class="music-controls">
        <select id="playlistSelect" onchange="changeSong(this.value)">
          <option value="10000_Hours.mp4">10,000 Hours</option>
          <option value="CoChacYeuLaDay.mp4">Co Chac Yeu La Day</option>
          <option value="Armed&Dangerous.mp4">Armed & Dangerous</option>
          <option value="history.mp4">History</option>
          <option value="dynamite.mp4">Dynamite</option>
          <option value="howyoulikethat.mp4">How You Like That</option>
        </select>
        <label>
          <input type="checkbox" id="loopSong">
          Loop Current Song
        </label>
      </div>
      <audio id="audioPlayer" controls autoplay>
        <source src="10000_Hours.mp4" type="audio/mp4">
        Your browser does not support the audio element.
      </audio>
    </div>

    <button onclick="revealSecret()">Click for Special Messages! üíå</button>
    <p id="secretMessage"></p>
    <button id="playGameButton">Play Flappy Face Game</button>
  </div>

  <div id="gameContainer">
    <canvas id="gameCanvas" width="400" height="600"></canvas>
    <div id="startScreen">
      <button id="startButton">Start Game</button>
    </div>
    <div id="gameOverScreen">
      <p>Game Over</p>
      <p>Score: <span id="scoreDisplay"></span></p>
      <button id="restartButton">Restart</button>
      <button id="closeGameButton">Close Game</button>
    </div>
  </div>

  <script>
    // ---------------------------
    // Interactive Hearts & Secret Messages
    // ---------------------------
    let currentMessageIndex = 0;
    const messages = [
      "You're the best thing that ever happened to me",
      "I fall for you more every day",
      "Your smile lights up my world",
      "I can't wait to build our future together",
      "You're my forever Valentine ‚ù§Ô∏è",
      "Let me see them tities ü§ì",
      "‚ù§Ô∏è JK I love you babe! ‚ù§Ô∏è"
    ];
    function createHearts() {
      const container = document.body;
      for (let i = 0; i < 50; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animationDelay = Math.random() * 2 + 's';
        container.appendChild(heart);
      }
    }
    function revealSecret() {
      const secretMessage = document.getElementById('secretMessage');
      secretMessage.style.display = 'block';
      secretMessage.textContent = messages[currentMessageIndex];
      currentMessageIndex = (currentMessageIndex + 1) % messages.length;
      for (let i = 0; i < 30; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animation = 'float 1.5s ease-out';
        heart.style.width = '25px';
        heart.style.height = '25px';
        heart.style.background = '#ff0066';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 1500);
      }
    }
    document.addEventListener('DOMContentLoaded', createHearts);

    // ---------------------------
    // Music Playlist Functionality
    // ---------------------------
    function changeSong(songSrc) {
      const audioPlayer = document.getElementById('audioPlayer');
      audioPlayer.src = songSrc;
      audioPlayer.play();
    }

    // Automatically advance or loop when a song ends.
    const audioPlayer = document.getElementById('audioPlayer');
    audioPlayer.addEventListener('ended', function() {
      const loopCheckbox = document.getElementById('loopSong');
      if (loopCheckbox.checked) {
        // Loop the current song.
        audioPlayer.play();
      } else {
        // Advance to the next song.
        const playlistSelect = document.getElementById('playlistSelect');
        let currentIndex = playlistSelect.selectedIndex;
        let nextIndex = currentIndex + 1;
        if (nextIndex >= playlistSelect.options.length) {
          nextIndex = 0; // Wrap around to the first song.
        }
        playlistSelect.selectedIndex = nextIndex;
        changeSong(playlistSelect.value);
      }
    });

    // ---------------------------
    // Flappy Face Game Code
    // ---------------------------
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    // Load image assets
    const backgroundImage = new Image();
    backgroundImage.src = 'background.png'; // Ensure this path is correct
    const pipeTopImage = new Image();
    pipeTopImage.src = 'pipe-top.png';
    const pipeBottomImage = new Image();
    pipeBottomImage.src = 'pipe-bottom.png';
    const birdImage = new Image();
    birdImage.src = 'my-face.png';

    // Game state and variables
    let gameState = 'start'; // 'start', 'playing', or 'gameOver'
    let score = 0;
    let pipes = [];
    const pipeWidth = 50;
    const gapHeight = 150; // Vertical gap between pipes
    const pipeSpeed = 2;
    const pipeSpacing = 250; // Horizontal distance between pipes
    const minGapY = 50;
    const maxGapY = canvas.height - gapHeight - 50;
    let bgX = 0;
    const bgSpeed = 0.5;

    // ---------------------------
    // Circle-Rectangle Collision Helpers
    // ---------------------------
    function clamp(value, min, max) {
      return Math.max(min, Math.min(max, value));
    }
    function circleRectOverlap(cx, cy, radius, rx, ry, rw, rh) {
      const closestX = clamp(cx, rx, rx + rw);
      const closestY = clamp(cy, ry, ry + rh);
      const dx = cx - closestX;
      const dy = cy - closestY;
      return (dx * dx + dy * dy) < (radius * radius);
    }

    // ---------------------------
    // Bird Object (Dog Face)
    // ---------------------------
    const bird = {
      x: 50,
      y: 150,
      width: 50,
      height: 50,
      velocity: 0,
      gravity: 0.2,
      lift: -6,
      rotation: 0,
      draw: function() {
        ctx.save();
        ctx.translate(this.x + this.width / 2, this.y + this.height / 2);
        ctx.rotate(this.rotation * Math.PI / 180);
        ctx.drawImage(birdImage, -this.width / 2, -this.height / 2, this.width, this.height);
        ctx.restore();
      },
      update: function() {
        this.velocity += this.gravity;
        this.y += this.velocity;
        this.rotation = this.velocity * 5;
        this.rotation = Math.max(-20, Math.min(90, this.rotation));
        if (this.y + this.height > canvas.height) {
          this.y = canvas.height - this.height;
          this.velocity = 0;
        }
        if (this.y < 0) {
          this.y = 0;
          this.velocity = 0;
        }
      },
      flap: function() {
        this.velocity = this.lift;
      }
    };

    // ---------------------------
    // Pipes (Tunnels) Management
    // ---------------------------
    function addPipe() {
      const gapY = Math.floor(Math.random() * (maxGapY - minGapY + 1)) + minGapY;
      pipes.push({
        x: canvas.width,
        gapY: gapY,
        passed: false
      });
    }
    function drawBackground() {
      ctx.drawImage(backgroundImage, bgX, 0, canvas.width, canvas.height);
      ctx.drawImage(backgroundImage, bgX + canvas.width, 0, canvas.width, canvas.height);
    }
    function updateBackground() {
      bgX -= bgSpeed;
      if (bgX <= -canvas.width) {
        bgX = 0;
      }
    }
    function drawPipes() {
      pipes.forEach(pipe => {
        ctx.drawImage(pipeTopImage, pipe.x, 0, pipeWidth, pipe.gapY);
        const bottomY = pipe.gapY + gapHeight;
        const bottomHeight = canvas.height - bottomY;
        ctx.drawImage(pipeBottomImage, pipe.x, bottomY, pipeWidth, bottomHeight);
      });
    }

    // ---------------------------
    // Game Update & Collision Detection
    // ---------------------------
    function update() {
      updateBackground();
      pipes.forEach(pipe => {
        pipe.x -= pipeSpeed;
      });
      pipes = pipes.filter(pipe => pipe.x + pipeWidth > 0);
      if (pipes.length === 0 || pipes[pipes.length - 1].x < canvas.width - pipeSpacing) {
        addPipe();
      }
      if (bird.y + bird.height >= canvas.height) {
        gameOver();
        return;
      }
      // Use circle-based collision for the dog face
      const dogRadius = 20; // Adjust as needed
      const dogCenterX = bird.x + bird.width / 2;
      const dogCenterY = bird.y + bird.height / 2;
      pipes.forEach(pipe => {
        if (circleRectOverlap(dogCenterX, dogCenterY, dogRadius, pipe.x, 0, pipeWidth, pipe.gapY)) {
          gameOver();
          return;
        }
        if (circleRectOverlap(dogCenterX, dogCenterY, dogRadius, pipe.x, pipe.gapY + gapHeight, pipeWidth, canvas.height - (pipe.gapY + gapHeight))) {
          gameOver();
          return;
        }
      });
      pipes.forEach(pipe => {
        if (!pipe.passed && bird.x > pipe.x + pipeWidth) {
          pipe.passed = true;
          score++;
        }
      });
    }
    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawBackground();
      drawPipes();
      bird.draw();
      ctx.fillStyle = 'white';
      ctx.font = '24px Arial';
      ctx.fillText(`Score: ${score}`, 10, 30);
    }
    function gameLoop() {
      if (gameState === 'playing') {
        update();
        bird.update();
      }
      draw();
      requestAnimationFrame(gameLoop);
    }
    function gameOver() {
      gameState = 'gameOver';
      document.getElementById('gameOverScreen').style.display = 'block';
      document.getElementById('scoreDisplay').textContent = score;
    }

    // ---------------------------
    // Event Listeners for Game Controls
    // ---------------------------
    document.getElementById('startButton').addEventListener('click', () => {
      gameState = 'playing';
      document.getElementById('startScreen').style.display = 'none';
      document.getElementById('gameOverScreen').style.display = 'none';
      pipes = [];
      bird.y = 150;
      bird.velocity = 0;
      score = 0;
    });
    document.getElementById('restartButton').addEventListener('click', () => {
      gameState = 'playing';
      document.getElementById('gameOverScreen').style.display = 'none';
      pipes = [];
      bird.y = 150;
      bird.velocity = 0;
      score = 0;
    });
    document.getElementById('closeGameButton').addEventListener('click', () => {
      document.getElementById('gameContainer').style.display = 'none';
      gameState = 'start';
    });
    canvas.addEventListener('click', () => {
      if (gameState === 'playing') bird.flap();
    });
    document.addEventListener('keydown', (e) => {
      if (e.code === 'Space' && gameState === 'playing') bird.flap();
    });
    document.getElementById('playGameButton').addEventListener('click', () => {
      document.getElementById('gameContainer').style.display = 'block';
      gameState = 'start';
      document.getElementById('startScreen').style.display = 'block';
      document.getElementById('gameOverScreen').style.display = 'none';
    });
    gameLoop();
  </script>
</body>
</html>
